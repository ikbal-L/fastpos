<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:PosTest.Converters"
                    xmlns:src="clr-namespace:ServiceInterface.Model;assembly=ServiceInterface" 
                    xmlns:cal="http://www.caliburnproject.org">

    <local:NumberToVisibilityConverter x:Key="NumberToVisibility"/>
    <local:NumberToVisibilityConverter x:Key="DecimalToVisibility"/>

    <DataTemplate x:Key="PlatterAdditives">
        <StackPanel Orientation="Horizontal">
            <TextBlock x:Name="text" Text="{Binding Description}"></TextBlock>
            <Button  
                     BorderBrush="{Binding ElementName=text, Path=Background}"
                     Background="{Binding ElementName=text, Path=Background}"
                     Height="{Binding ElementName=text, Path=Height}" 
                     Style="{StaticResource AddtiviveItemBtnstyle}"
                     cal:Message.Attach="[Event Click] = [Action RemoveAdditive($this)]">
                <Image Source="/icons/close.png" />
            </Button>
        </StackPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type src:OrderItem}">
        <StackPanel>
            <DockPanel LastChildFill="False">
                <TextBlock FontWeight="Bold" FontSize="14" 
                                Text="{Binding Path=Product.Name}" />
                <TextBlock DockPanel.Dock="Right" Width="Auto" >
                    <Run Text="{Binding Path=Total, Mode=OneWay}" FontSize="16" FontWeight="Bold" />
                    <Run Text=" DA" FontSize="12"/>
                </TextBlock>
            </DockPanel>

            <DockPanel  LastChildFill="False">
                <TextBlock DockPanel.Dock="Left" Margin="5,0,0,0" >
                            <Run Text="{Binding Quantity}" FontSize="16" FontWeight="Bold"/>
                            <Run Text="Unit" FontSize="14"/>
                            <Run Text="{Binding UnitPrice}" FontSize="16" FontWeight="Bold" />
                            <Run Text="DA" FontSize="12" />
                </TextBlock>
                <TextBlock DockPanel.Dock="Right"  FontSize="12" FontWeight="Bold"
                           Text="{Binding TotalDiscountAmount, StringFormat='Discount {0} DA'}" 
                           Visibility="{Binding TotalDiscountAmount, Converter={StaticResource NumberToVisibility}}"
                           Background="#f7d6e0" 
                           Foreground="Gray"
                           Width="Auto"
                           Padding="5"/>
            </DockPanel>

            <ListBox ItemsSource="{Binding Additives}"
                     SelectedItem="{Binding SelectedAdditive}"
                    ItemTemplate="{StaticResource PlatterAdditives}"
                    Style="{StaticResource kidslist}"
                    ItemContainerStyle="{StaticResource AdditiveItem}"
                    ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
            </ListBox>


        </StackPanel>
    </DataTemplate>
    
    <!--<DataTemplate DataType="{x:Type src:Additive}" x:Key="PlatterAditives">
        <StackPanel Orientation="Vertical" Background="Aqua">
            <Label Content=" *****" />
            <TextBlock Text="{Binding Description}"></TextBlock>
        </StackPanel>
    </DataTemplate>-->
   

</ResourceDictionary>